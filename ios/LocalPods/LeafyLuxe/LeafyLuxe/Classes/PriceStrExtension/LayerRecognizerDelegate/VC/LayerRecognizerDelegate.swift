
//: Declare String Begin

/*: "CardCellId" :*/
fileprivate let str_managerData:String = "let makeCardCellI"
fileprivate let str_userWindowData:String = "D"

/*: "icon_match_dislikeBtn_nor" :*/
fileprivate let str_loadData:[Character] = ["i","c","o","n","_","m","a","t","c","h","_","d","i","s","l","i","k","e","B","t","n","_","n"]
fileprivate let str_colorSectionMakeName:[Character] = ["o","r"]

/*: "icon_match_hiBtn_nor" :*/
fileprivate let str_underData:String = "view white self modelicon_"
fileprivate let str_normalName:[Character] = ["i","B","t","n","_","n","o","r"]

/*: "icon_match_likeBtn_nor" :*/
fileprivate let str_mContent:String = "icon_left return show content progress"
fileprivate let str_iconTitleSexName:String = "target pic up back selected_likeB"
fileprivate let str_stopText:String = "tn_norself type application"

/*: "Enable  Location" :*/
fileprivate let str_remoteData:[Character] = ["E","n","a","b","l","e"," "," ","L","o","c","a"]
fileprivate let str_viewVideoData:[Character] = ["t","i","o","n"]

/*: "lng" :*/
fileprivate let str_logLayerValue:[UInt8] = [0x89,0x8b,0x84]

fileprivate func languageUnit(object num: UInt8) -> UInt8 {
    let value = Int(num) - 29
    if value < 0 {
        return UInt8(value + 256)
    } else {
        return UInt8(value)
    }
}

/*: "lat" :*/
fileprivate let str_managerCenterName:[UInt8] = [0xea,0xe7,0xf2]

private func pathAction(during num: UInt8) -> UInt8 {
    return num ^ 134
}

/*: "icon_match_bg_location" :*/
fileprivate let str_performValue:String = "make model lite equalicon_m"
fileprivate let str_frameModelIfData:String = "_bg_lsex bind make"
fileprivate let str_viewInsideName:String = "ibackn"

/*: "In order to recommend nearby people based on location, we need your permission to use location permissions" :*/
fileprivate let str_stopContent:[UInt8] = [0x81,0xa6,0xe8,0xa7,0xba,0xac,0xad,0xba,0xe8,0xbc,0xa7,0xe8,0xba,0xad,0xab,0xa7,0xa5,0xa5,0xad,0xa6,0xac,0xe8,0xa6,0xad,0xa9,0xba,0xaa,0xb1,0xe8,0xb8,0xad,0xa7,0xb8,0xa4,0xad,0xe8,0xaa,0xa9,0xbb,0xad,0xac,0xe8,0xa7,0xa6,0xe8,0xa4,0xa7,0xab,0xa9,0xbc,0xa1,0xa7,0xa6,0xe4,0xe8,0xbf,0xad,0xe8,0xa6,0xad,0xad,0xac,0xe8,0xb1,0xa7,0xbd,0xba,0xe8,0xb8,0xad,0xba,0xa5,0xa1,0xbb,0xbb,0xa1,0xa7,0xa6,0xe8,0xbc,0xa7,0xe8,0xbd,0xbb,0xad,0xe8,0xa4,0xa7,0xab,0xa9,0xbc,0xa1,0xa7,0xa6,0xe8,0xb8,0xad,0xba,0xa5,0xa1,0xbb,0xbb,0xa1,0xa7,0xa6,0xbb]

private func willGesture(play num: UInt8) -> UInt8 {
    return num ^ 200
}

/*: "&type=0" :*/
fileprivate let str_emptyBlockName:String = "any if sex height let&type=0"

/*: "mf/business/list" :*/
fileprivate let str_cancelData:String = "video labelmf/bu"
fileprivate let str_publishRequestTrueName:[Character] = ["l","i","s","t"]

/*: "tab" :*/
fileprivate let str_valueArrayTitle:[UInt8] = [0x4f,0x5a,0x59]

private func renderLabel(status num: UInt8) -> UInt8 {
    return num ^ 59
}

/*: "page" :*/
fileprivate let str_pairData:[UInt8] = [0xac,0x9d,0xa3,0xa1]

fileprivate func miniResultCamera(photo num: UInt8) -> UInt8 {
    let value = Int(num) - 60
    if value < 0 {
        return UInt8(value + 256)
    } else {
        return UInt8(value)
    }
}

/*: "minAge" :*/
fileprivate let str_confirmTitle:[UInt8] = [0x65,0x67,0x41,0x6e,0x69,0x6d]

/*: "maxAge" :*/
fileprivate let str_thinValue:[UInt8] = [0x9e,0x92,0x8b,0xb2,0x94,0x96]

/*: "datingVideo" :*/
fileprivate let str_packName:[UInt8] = [0x43,0x46,0x53,0x4e,0x49,0x40,0x71,0x4e,0x43,0x42,0x48]

/*: "limitNum" :*/
fileprivate let str_displayName:[Character] = ["l","i","m","i","t","N","u","m"]

/*: "expire" :*/
fileprivate let str_viewListName:String = "timexpirtime"

/*: "Too frequent requests, please try again later" :*/
fileprivate let str_hiddenValue:[UInt8] = [0x35,0xe,0xe,0x41,0x7,0x13,0x4,0x10,0x14,0x4,0xf,0x15,0x41,0x13,0x4,0x10,0x14,0x4,0x12,0x15,0x12,0x4d,0x41,0x11,0xd,0x4,0x0,0x12,0x4,0x41,0x15,0x13,0x18,0x41,0x0,0x6,0x0,0x8,0xf,0x41,0xd,0x0,0x15,0x4,0x13]

private func managerEdit(interval num: UInt8) -> UInt8 {
    return num ^ 97
}

/*: "mf/newFeature/dislike" :*/
fileprivate let str_hideValue:String = "mf/newgame true add manager index"
fileprivate let str_coordinatorConTitle:String = "image page face key topure/d"
fileprivate let str_editPointData:String = "managerlike"

/*: "uid" :*/
fileprivate let str_parentName:[UInt8] = [0x64,0x69,0x75]

/*: "mf/newFeature/like" :*/
fileprivate let str_observerName:[Character] = ["m","f","/","n","e","w","F","e","a"]
fileprivate let str_blockValue:String = "return lab liveture/"

/*: "didRemoveCell forRowAtIndex =  :*/
fileprivate let str_underTitle:[Character] = ["d","i","d","R","e","m","o","v","e","C","e","l","l"," ","f","o","r","R","o","w"]
fileprivate let str_managerTitle:[Character] = ["A","t","I","n","d","e","x"," ","="," "]

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  LayerRecognizerDelegate.swift
//  AbroadTalking
//
//  Created by Charlotte on 2023/5/18.
//

//: import UIKit
import UIKit

//: import JXPagingView
import JXPagingView

//: class TalkingClubVC: TalkingBaseViewController {
class LayerRecognizerDelegate: EqualVideoReactiveCompatible {
	var timeExposureName: String = "with"
	var sizeTitle: String = "section"

    //: let CardCellId = "CardCellId"
    let CardCellId = (String(str_managerData.suffix(9)) + str_userWindowData.lowercased())

    //: var cellItems = [SocialUserListModel]()
    var cellItems = [UserListModel]() ///  数据模型数据
    //: var currenModel = SocialUserListModel.init()
    var currenModel = UserListModel()
    //: var currenCell: TalkingClubCardItemCell?
    var currenCell: TempItemCell?
    //: var isShowSubscre = false
    var isShowSubscre = false
    //: var clubUserData = Set<TalkingMatchRemoveRedoModel>()
    var clubUserData = Set<VendorEquatable>()

    //: override func viewWillAppear(_ animated: Bool) {
    override func viewWillAppear(_ animated: Bool) {
        //: super.viewWillAppear(animated)
        super.viewWillAppear(animated)
    
		if var sendValue = currenCell?.model?.lastOnlineTime { 
			if var positionValue = currenCell?.maxAngle { 
		            if (locationBtn.sizeThatFits(.zero).height == 151.86) && (locationBtn.canBecomeFirstResponder) {
		                //: SWIFT_CUSTOM_DANGER_File_Call
		                let onLet = OecumenicalView(frame: locationBtn.bounds.integral)
		            onLet.appearWillOff = self.currenModel.isTPAuth
		            onLet.fullMoonCount = positionValue
		            onLet.effectContent = currenModel.cover
		            
		            
		            onLet.skirtNearName = { [self] stateText in
		            self.sizeTitle = stateText
		            
		            var onLet = sendValue
		            if let invite = onLet.firstIndex(where: { $0.isLetter }) {
		                onLet.remove(at: invite)
		            }
		            if onLet.hasSuffix(self.sizeTitle) {
		                self.sizeTitle = onLet
		            }
		            
		            do {
		                self.sizeTitle = try String(contentsOf: URL(string: "item.moment", relativeTo: URL(string: "/row"))!, encoding: .utf8)
		            } catch {
		                self.sizeTitle = error.localizedDescription
		            }
		            return self.sizeTitle
		            }
		                locationBtn.addSubview(onLet)
		            }
		
			}
		}
	}

    //: override func viewDidDisappear(_ animated: Bool) {
    override func viewDidDisappear(_ animated: Bool) {
        //: super.viewDidDisappear(animated)
        super.viewDidDisappear(animated)
    
		if var indexIconValue = self.currenCell?.reuseIdentifier { 
	            if (likeBtn.sizeThatFits(.zero).height == 151.86) && (likeBtn.canBecomeFirstResponder) {
	                //: SWIFT_CUSTOM_DANGER_File_Call
	                let onLet = OecumenicalView(frame: likeBtn.bounds.integral)
	            onLet.appearWillOff = cardView.isAlpha
	            onLet.fullMoonCount = cardView.interitemSpacing
	            onLet.effectContent = self.currenModel.sex
	            
	            
	            onLet.skirtNearName = { [self] stateText in
	            self.timeExposureName = stateText
	            
	            var onLet = indexIconValue
	            if let invite = onLet.firstIndex(where: { $0.isLetter }) {
	                onLet.remove(at: invite)
	            }
	            if onLet.hasSuffix(self.timeExposureName) {
	                self.timeExposureName = onLet
	            }
	            
	            do {
	                self.timeExposureName = try String(contentsOf: URL(string: "item.moment", relativeTo: URL(string: "/row"))!, encoding: .utf8)
	            } catch {
	                self.timeExposureName = error.localizedDescription
	            }
	            return self.timeExposureName
	            }
	                likeBtn.addSubview(onLet)
	            }
	
		}
	}

    //: override func viewDidLoad() {
    override func viewDidLoad() {
        //: super.viewDidLoad()
        super.viewDidLoad()
        //: self.hideNavi = true
        self.hideNavi = true
        //: checkLocationAuth()
        analyzeForAuth()
        //: addNotifications()
        cellNotifications()
    }

    //: deinit {
    deinit {
        //: NotificationCenter.default.removeObserver(self)
        NotificationCenter.default.removeObserver(self)
    }

    //: private lazy var cardView: TalkingClubCardView = {
    private lazy var cardView: VisualThen = {
        //: let height = ScreenHeight - TabBarViewHeight - StatusBarHeight - 117 - 12
        let height = kLet_appEventDomainName - kLet_rateRequestPathTitle - kLet_messageSumervalName - 117 - 12
        //: let view = TalkingClubCardView.init(frame: CGRect.init(x: 10, y: StatusBarHeight+12, width: ScreenWidth-20, height: height))
        let view = VisualThen(frame: CGRect(x: 10, y: kLet_messageSumervalName + 12, width: kLet_failureName - 20, height: height))
        //: view.backgroundColor = .clear
        view.backgroundColor = .clear
        //: view.dataSource = self
        view.dataSource = self
        //: view.delegate = self
        view.delegate = self
        //: view.visibleCount = 10
        view.visibleCount = 10
        //: view.lineSpacing = 0.0
        view.lineSpacing = 0.0
        //: view.interitemSpacing = 0.0
        view.interitemSpacing = 0.0
        //: view.maxAngle = 0.0
        view.maxAngle = 0.0
        //: view.isAlpha = true
        view.isAlpha = true
        //: view.maxRemoveDistance = 150.0
        view.maxRemoveDistance = 150.0
        //: if LanguageManager.shared.direction == .rightToLeft {
        if PropertyLineThen.shared.direction == .rightToLeft {
            //: view.maxRemoveDistance = 130.0
            view.maxRemoveDistance = 130.0
        }
        //: view.layer.cornerRadius = 10.0
        view.layer.cornerRadius = 10.0
        //: view.registerClass(cellClass: TalkingClubCardItemCell.self, forellIdentifier: CardCellId)
        view.sound(cellClass: TempItemCell.self, forellIdentifier: CardCellId)
        //: return view
        return view
        //: }()
    }()

    //: private lazy var disLikeBtn: UIButton = {
    private lazy var disLikeBtn: UIButton = {
        //: let img = UIButton()
        let img = UIButton()
        //: img.setImage(UIImage.nameTitle(name: "icon_match_dislikeBtn_nor"), for: .normal)
        img.setImage(UIImage.nameTitle(name: (String(str_loadData) + String(str_colorSectionMakeName))), for: .normal)
        //: img.addTarget(self, action: #selector(disLikeBtnClick), for: .touchUpInside)
        img.addTarget(self, action: #selector(squareBlock), for: .touchUpInside)
        //: return img
        return img
        //: }()
    }()

    //: private lazy var hiBtn: UIButton = {
    private lazy var hiBtn: UIButton = {
        //: let img = UIButton()
        let img = UIButton()
        //: img.setImage(UIImage.nameTitle(name: "icon_match_hiBtn_nor"), for: .normal)
        img.setImage(UIImage.nameTitle(name: (String(str_underData.suffix(5)) + "match_h" + String(str_normalName))), for: .normal)
        //: img.addTarget(self, action: #selector(hiBtnClick), for: .touchUpInside)
        img.addTarget(self, action: #selector(chooseBy), for: .touchUpInside)
        //: return img
        return img
        //: }()
    }()

    //: private lazy var likeBtn: UIButton = {
    private lazy var likeBtn: UIButton = {
        //: let img = UIButton()
        let img = UIButton()
        //: img.setImage(UIImage.nameTitle(name: "icon_match_likeBtn_nor"), for: .normal)
        img.setImage(UIImage.nameTitle(name: (String(str_mContent.prefix(5)) + "match" + String(str_iconTitleSexName.suffix(6)) + String(str_stopText.prefix(6)))), for: .normal)
        //: img.addTarget(self, action: #selector(likeBtnClick), for: .touchUpInside)
        img.addTarget(self, action: #selector(fireEqualClick), for: .touchUpInside)
        //: return img
        return img
        //: }()
    }()

    //: private lazy var emptyV: SocialEmptyView = {
    private lazy var emptyV: LetterView = {
        //: let v = SocialEmptyView()
        let v = LetterView()
        //: return v
        return v
        //: }()
    }()

    //: private lazy var locationBtn: UIButton = {
    private lazy var locationBtn: UIButton = {
        //: let btn = UIButton.init()
        let btn = UIButton()
        //: btn.setTitle("Enable  Location".localized, for: .normal)
        btn.setTitle((String(str_remoteData) + String(str_viewVideoData)).localized, for: .normal)
        //: btn.titleLabel?.font = UIFont.magnitudeimateBy(type: .Medium, fontSize: 17)
        btn.titleLabel?.font = UIFont.magnitudeimateBy(type: .Medium, fontSize: 17)
        //: btn.setTitleColor(.white, for: .normal)
        btn.setTitleColor(.white, for: .normal)
        //: btn.layer.cornerRadius = 25
        btn.layer.cornerRadius = 25
        //: btn.clipsToBounds = true
        btn.clipsToBounds = true
        //: btn.setBackgroundImage(UIImage.imageGradientColor(colors: UIColor.appGradientColor(), size: CGSize(width: ScreenWidth-80, height: 50)), for: .normal)
        btn.setBackgroundImage(UIImage.gradientShared(colors: UIColor.endColor(), size: CGSize(width: kLet_failureName - 80, height: 50)), for: .normal)
        //: btn.addTarget(self, action: #selector(locationBtnClick), for: .touchUpInside)
        btn.addTarget(self, action: #selector(punchCardClick), for: .touchUpInside)
        //: return btn
        return btn
        //: }()
    }()

    //: private lazy var swipedFinishView: TalkingClubCardSwipedFinishView = {
    private lazy var swipedFinishView: PictureView = {
        //: let v = TalkingClubCardSwipedFinishView()
        let v = PictureView()
        //: v.countdownBlock = { [weak self] in
        v.countdownBlock = { [weak self] in
            //: guard let self = self else { return }
            guard let self = self else { return }
            //: self.beginRequestData()
            self.releaseTrack()
        }
        //: view.addSubview(v)
        view.addSubview(v)
        //: v.snp.makeConstraints { make in
        v.snp.makeConstraints { make in
            //: make.edges.equalToSuperview()
            make.edges.equalToSuperview()
        }
        //: return v
        return v
        //: }()
    }()
}

// MARK: - 定位权限监听

//: extension TalkingClubVC {
extension LayerRecognizerDelegate {
    //: func checkLocationAuth() {
    func analyzeForAuth() {
        //: TalkingLocationManager.shared().requestLocationAuthorizaiton()
        OfManagerDelegate.rowByShared().methodApplication()
        //: TalkingLocationManager.shared().getAuthBlock { [weak self] (type: PermissionType) in
        OfManagerDelegate.rowByShared().replacement { [weak self] (type: TypeHashable) in
            //: guard let self = self else {return}
            guard let self = self else { return }
            //: switch type {
            switch type {
            //: case .firstEntry:
            case .firstEntry: // 首次进入
                //: self.refreshViewStatus()
                self.loadDown()

            //: case .userRestricted:
            case .userRestricted: // 拒绝
                //: self.refreshViewStatus()
                self.loadDown()
                // 展示设置弹窗
                //: self.showSettingsAlertView()
                self.empowerView()

            //: case .alwaysAllowed:
            case .alwaysAllowed: // 允许
                //: self.setupView()
                self.positionWith()
                //: self.beginRequestData()
                self.releaseTrack()
            }
        }
        /// 上报经纬度
        //: TalkingLocationManager.shared().getLocationBlock { success, latitude, longitude in
        OfManagerDelegate.rowByShared().artefactOfBlock { success, latitude, longitude in
            //: if success {
            if success {
                //: SocialRequestManager.req_uploadPosition(params: ["lng": longitude, "lat": latitude]) { succeed, result, errorModel in
                HairRequestManager.encroachUponCall(params: [String(bytes: str_logLayerValue.map{languageUnit(object: $0)}, encoding: .utf8)!: longitude, String(bytes: str_managerCenterName.map{pathAction(during: $0)}, encoding: .utf8)!: latitude]) { _, _, _ in
                }
            }
        }
    }

    /// 设置弹窗
    //: func showSettingsAlertView() {
    func empowerView() {
        //: guard TalkingLocationManager.shared().locationType == .userRestricted else {
        guard OfManagerDelegate.rowByShared().locationType == .userRestricted else {
            //: return
            return
        }
        //: self.view.addSubview(locationBtn)
        self.view.addSubview(locationBtn)
        //: locationBtn.snp.makeConstraints { make in
        locationBtn.snp.makeConstraints { make in
            //: make.bottom.equalToSuperview().offset(-33)
            make.bottom.equalToSuperview().offset(-33)
            //: make.leading.equalTo(40)
            make.leading.equalTo(40)
            //: make.trailing.equalTo(-40)
            make.trailing.equalTo(-40)
            //: make.height.equalTo(50)
            make.height.equalTo(50)
        }
    }

    /// 刷新视图状态
    //: private func refreshViewStatus() {
    private func loadDown() {
        // 是否开启定位判断缺省图
        //: if TalkingLocationManager.shared().locationType != .alwaysAllowed {
        if OfManagerDelegate.rowByShared().locationType != .alwaysAllowed {
            //: self.view.removeAllSubviews()
            self.view.removeAllSubviews()
            //: self.view.addSubview(emptyV)
            self.view.addSubview(emptyV)
            //: emptyV.snp.makeConstraints { make in
            emptyV.snp.makeConstraints { make in
                //: make.top.equalToSuperview().offset(200)
                make.top.equalToSuperview().offset(200)
                //: make.leading.trailing.bottom.equalToSuperview()
                make.leading.trailing.bottom.equalToSuperview()
            }
            //: emptyV.imgV.image = UIImage.nameTitle(name: "icon_match_bg_location")
            emptyV.imgV.image = UIImage.nameTitle(name: (String(str_performValue.suffix(6)) + "atch" + String(str_frameModelIfData.prefix(5)) + "ocat" + str_viewInsideName.replacingOccurrences(of: "back", with: "o")))
            //: emptyV.desLab.text = "In order to recommend nearby people based on location, we need your permission to use location permissions".localized
            emptyV.desLab.text = String(bytes: str_stopContent.map{willGesture(play: $0)}, encoding: .utf8)!.localized
        }
    }

    //: @objc private func locationBtnClick() {
    @objc private func punchCardClick() {
        //: let url = URL(string: UIApplication.openSettingsURLString)
        let url = URL(string: UIApplication.openSettingsURLString)
        //: if let url = url, UIApplication.shared.canOpenURL(url) {
        if let url = url, UIApplication.shared.canOpenURL(url) {
            //: UIApplication.shared.open(url, options: [:], completionHandler: nil)
            UIApplication.shared.open(url, options: [:], completionHandler: nil)
        }
    }
}

//: extension TalkingClubVC {
extension LayerRecognizerDelegate {
    //: @objc private func disLikeBtnClick() {
    @objc private func squareBlock() {
        // 埋点
        //: uploadRecord.uploadRecordEvent(eventID: click_home_dislike, toUid: "\(self.currenModel.uid)")
        kLet_postName.paper(eventID: kLet_keyDetailData, toUid: "\(self.currenModel.uid)")
        /// 最后一条时，无法滑动
        //: if isShowSubscre {
        if isShowSubscre {
            //: cardView.restoreCellLocation()
            cardView.popUncompressWork()
            //: TalkingPushManager.share.func__pushToSubscribeAlert(appendParams: "&type=0")
            TalkingPushManager.share.statusSumimate(appendParams: (String(str_emptyBlockName.suffix(7))))
            //: return
            return
        }
        //: disLikeReq()
        recordUp()
//        if !cardView.isUserInteractionEnabled && cellItems.count == 1 {
//            self.func__showStatusBarErrorMsg(showMsg: "Too frequent requests, please try again later".localized)
//            disLikeReq()
//            return
//        }

        //: cardView.removeTopCardViewFromSwipe(direction: .Left)
        cardView.scarDirection(direction: .Left)
    }

    //: @objc private func hiBtnClick() {
    @objc private func chooseBy() {
        //: let uid = self.currenModel.uid
        let uid = self.currenModel.uid
        //: if uid > 0 {
        if uid > 0 {
            //: TalkingPushManager.share.func__pushToPriveteChatVC(chatID: "\(uid)")
            TalkingPushManager.share.eyeglassWearer(chatID: "\(uid)")
            // 埋点
            //: uploadRecord.uploadRecordEvent(eventID: click_home_hi, toUid: "\(uid)")
            kLet_postName.paper(eventID: kLet_messageContent, toUid: "\(uid)")
        }
    }

    //: @objc private func likeBtnClick() {
    @objc private func fireEqualClick() {
        // 埋点
        //: uploadRecord.uploadRecordEvent(eventID: click_home_like, toUid: "\(self.currenModel.uid)")
        kLet_postName.paper(eventID: kLet_netText, toUid: "\(self.currenModel.uid)")
        //: if isShowSubscre {
        if isShowSubscre {
            //: cardView.restoreCellLocation()
            cardView.popUncompressWork()
            //: TalkingPushManager.share.func__pushToSubscribeAlert(appendParams: "&type=0")
            TalkingPushManager.share.statusSumimate(appendParams: (String(str_emptyBlockName.suffix(7))))
            //: return
            return
        }
        //: likeReq()
        announcementPackageTo()
//        if !cardView.isUserInteractionEnabled && cellItems.count == 1 {
//            self.func__showStatusBarErrorMsg(showMsg: "Too frequent requests, please try again later".localized)
//            likeReq()
//            return
//        }
        //: cardView.removeTopCardViewFromSwipe(direction: .Right)
        cardView.scarDirection(direction: .Right)
    }
}

/// 初始化模型数据
//: extension TalkingClubVC {
extension LayerRecognizerDelegate {
    //: func removeAllData() {
    func areaAdd() {
        //: self.cellItems.removeAll()
        self.cellItems.removeAll()
    }

    //: func beginRequestData() {
    func releaseTrack() {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = ClearRequestModel()
        //: reqModel.showErrorStatusBar = false
        reqModel.showErrorStatusBar = false
        //: reqModel.requestPath = "mf/business/list"
        reqModel.requestPath = (String(str_cancelData.suffix(5)) + "siness/" + String(str_publishRequestTrueName))
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.params = ["tab": 1,
        reqModel.params = [String(bytes: str_valueArrayTitle.map{renderLabel(status: $0)}, encoding: .utf8)!: 1,
                           //: "page": 0,
                           String(bytes: str_pairData.map{miniResultCamera(photo: $0)}, encoding: .utf8)!: 0,
                           //: "minAge": 18,
                           String(bytes: str_confirmTitle.reversed(), encoding: .utf8)!: 18,
                           //: "maxAge": 80,
                           String(bytes: str_thinValue.map{$0^243}, encoding: .utf8)!: 80,
                           //: "datingVideo": 0]
                           String(bytes: str_packName.map{$0^39}, encoding: .utf8)!: 0]
        //: ProgressHUD.show()
        DutyProgressHUD.dowerImage()
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_informationStatusTitle.theAll(model: reqModel) { succeed, result, errorModel in
            //: ProgressHUD.dismiss()
            DutyProgressHUD.duringShow()
            //: guard succeed == true else {
            guard succeed == true else {
                //: if errorModel?.errorCode == 10889 {
                if errorModel?.errorCode == 10889 { // 卡片额度用完
                    //: let json = JSON(result ?? {})
                    let json = JSON(result ?? {})
                    //: self.swipedFinishView.show(limitNum: json["limitNum"].int, expire: json["expire"].int)
                    self.swipedFinishView.postRoomSection(limitNum: json[(String(str_displayName))].int, expire: json[(str_viewListName.replacingOccurrences(of: "time", with: "e"))].int)
                    //: } else {
                } else {
                    //: if errorModel?.errorMsg.isEmpty == false {
                    if errorModel?.errorMsg.isEmpty == false {
                        //: self.func__showStatusBarErrorMsg(showMsg: errorModel?.errorMsg ?? "")
                        self.barLog(showMsg: errorModel?.errorMsg ?? "")
                    }
                    //: self.addEmptyView()
                    self.addLightBareView()
                }
                //: return
                return
            }
            //: let resultArr = result as! [Dictionary<String, Any>]
            let resultArr = result as! [[String: Any]]
            //: for dict in resultArr {
            for dict in resultArr {
                //: if let model = SocialUserListModel.deserialize(from: dict as? Dictionary) {
                if let model = UserListModel.deserialize(from: dict as? Dictionary) {
                    //: self.cellItems.append(model)
                    self.cellItems.append(model)
                }
            }
            //: if self.cellItems.count > 0 {
            if self.cellItems.count > 0 {
                self.swipedFinishView.dismiss()
                //: if resultArr.count > 0 {
                if resultArr.count > 0 {
//                    if self.cellItems.count == 1 {
//                        self.cardView.isUserInteractionEnabled = false
//                    }else {
//                        self.cardView.isUserInteractionEnabled = true
//                    }
                    //: self.cardView.reloadData()
                    self.cardView.infoData()
                    //: }else {
                } else {
                    //: self.func__showStatusBarErrorMsg(showMsg: "Too frequent requests, please try again later".localized)
                    self.barLog(showMsg: String(bytes: str_hiddenValue.map{managerEdit(interval: $0)}, encoding: .utf8)!.localized)
                }
                //: } else {
            } else {
                //: self.swipedFinishView.show(limitNum: nil, expire: nil)
                self.swipedFinishView.postRoomSection(limitNum: nil, expire: nil)
            }
        }
    }

    //: private func addEmptyView() {
    private func addLightBareView() {
        //: self.view.removeAllSubviews()
        self.view.removeAllSubviews()
        //: self.view.addSubview(self.emptyV)
        self.view.addSubview(self.emptyV)
        //: self.emptyV.snp.makeConstraints { make in
        self.emptyV.snp.makeConstraints { make in
            //: make.top.equalToSuperview().offset(200)
            make.top.equalToSuperview().offset(200)
            //: make.leading.trailing.bottom.equalToSuperview()
            make.leading.trailing.bottom.equalToSuperview()
        }
    }

    //: private func disLikeReq() {
    private func recordUp() {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = ClearRequestModel()
        //: reqModel.requestPath = "mf/newFeature/dislike"
        reqModel.requestPath = (String(str_hideValue.prefix(6)) + "Feat" + String(str_coordinatorConTitle.suffix(5)) + str_editPointData.replacingOccurrences(of: "manager", with: "is"))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = ["uid": self.currenModel.uid]
        reqModel.params = [String(bytes: str_parentName.reversed(), encoding: .utf8)!: self.currenModel.uid]
        //: reqModel.showErrorStatusBar = false
        reqModel.showErrorStatusBar = false

        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_informationStatusTitle.theAll(model: reqModel) { _, result, errorModel in
            //: if errorModel?.errorMsg.isEmpty == false {
            if errorModel?.errorMsg.isEmpty == false {
                //: self.func__showStatusBarErrorMsg(showMsg: errorModel?.errorMsg ?? "")
                self.barLog(showMsg: errorModel?.errorMsg ?? "")
            }
            //: if errorModel?.errorCode == 10888 {
            if errorModel?.errorCode == 10888 {
                //: TalkingPushManager.share.func__pushToSubscribeAlert(appendParams: "&type=0")
                TalkingPushManager.share.statusSumimate(appendParams: (String(str_emptyBlockName.suffix(7))))
                //: self.isShowSubscre = true
                self.isShowSubscre = true

                //: } else if errorModel?.errorCode == 10889 {
            } else if errorModel?.errorCode == 10889 { // 卡片额度用完
                //: let json = JSON(result ?? {})
                let json = JSON(result ?? {})
                //: self.swipedFinishView.show(limitNum: json["limitNum"].int, expire: json["expire"].int)
                self.swipedFinishView.postRoomSection(limitNum: json[(String(str_displayName))].int, expire: json[(str_viewListName.replacingOccurrences(of: "time", with: "e"))].int)
            }
        }
    }

    //: private func likeReq() {
    private func announcementPackageTo() {
        //: let reqModel = TalkingRequestModel.init()
        let reqModel = ClearRequestModel()
        //: reqModel.requestPath = "mf/newFeature/like"
        reqModel.requestPath = (String(str_observerName) + String(str_blockValue.suffix(5)) + "like")
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = ["uid": self.currenModel.uid]
        reqModel.params = [String(bytes: str_parentName.reversed(), encoding: .utf8)!: self.currenModel.uid]
        //: reqModel.showErrorStatusBar = false
        reqModel.showErrorStatusBar = false

        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_informationStatusTitle.theAll(model: reqModel) { _, result, errorModel in
            //: if errorModel?.errorMsg.isEmpty == false {
            if errorModel?.errorMsg.isEmpty == false {
                //: self.func__showStatusBarErrorMsg(showMsg: errorModel?.errorMsg ?? "")
                self.barLog(showMsg: errorModel?.errorMsg ?? "")
            }
            //: if errorModel?.errorCode == 10888 {
            if errorModel?.errorCode == 10888 {
                //: TalkingPushManager.share.func__pushToSubscribeAlert(appendParams: "&type=0")
                TalkingPushManager.share.statusSumimate(appendParams: (String(str_emptyBlockName.suffix(7))))
                //: self.isShowSubscre = true
                self.isShowSubscre = true

                //: } else if errorModel?.errorCode == 10889 {
            } else if errorModel?.errorCode == 10889 { // 卡片额度用完
                //: let json = JSON(result ?? {})
                let json = JSON(result ?? {})
                //: self.swipedFinishView.show(limitNum: json["limitNum"].intValue, expire: json["expire"].intValue)
                self.swipedFinishView.postRoomSection(limitNum: json[(String(str_displayName))].intValue, expire: json[(str_viewListName.replacingOccurrences(of: "time", with: "e"))].intValue)
            }
        }
    }

    /// 刷新个人资料接口
    //: @objc private func func__requestUserInfo() {
    @objc private func ignore() {
        //: AppManagerRequest.func__requestUserInfo { succeed, result, errorModel in
        ShareCellThen.roundEqual { _, _, _ in
            //: self.isShowSubscre = false
            self.isShowSubscre = false
            //: self.beginRequestData()
            self.releaseTrack()
        }
    }
}

//: extension TalkingClubVC: TalkingClubCardViewDataSource, TalkingClubCardViewDelegate {
extension LayerRecognizerDelegate: VisibleRadiationObjectProtocol, SelectedObjectProtocol {
    //: func numberOfCountInCardView(cardView: TalkingClubCardView) -> Int {
    func windowView(cardView _: VisualThen) -> Int {
        //: return cellItems.count
        return cellItems.count
    }

    //: func cardViewCellForRowAtIndex(cardView: TalkingClubCardView, index: Int) -> TalkingClubCardViewCell {
    func sizeWill(cardView: VisualThen, index: Int) -> AppRecognizerDelegate {
        //: let cell = cardView.dequeueReusableCellWithIdentifier(identifier: CardCellId) as? TalkingClubCardItemCell
        let cell = cardView.streetwiseRemove(identifier: CardCellId) as? TempItemCell
        //: let model = cellItems[index]
        let model = cellItems[index]
        //: cell?.setCellData(model: model)
        cell?.femaleListen(model: model)
        //: if index == 0 {
        if index == 0 {
            //: self.currenModel = model
            self.currenModel = model
            //: self.currenCell = cell
            self.currenCell = cell
        }

        //: cell?.layer.cornerRadius = 10.0
        cell?.layer.cornerRadius = 10.0
        //: cell?.layer.masksToBounds = true
        cell?.layer.masksToBounds = true
        //: return cell!
        return cell!
    }

    //: func CellForRowAtIndexModel(index: Int) -> SocialUserListModel {
    func rangeVideo(index: Int) -> UserListModel {
        //: let model = cellItems[index]
        let model = cellItems[index]
        //: return model
        return model
    }

    //: func didRemoveLastCell(cardViewCell: TalkingClubCardViewCell, forRowAtIndex: Int) {
    func rowQuote(cardViewCell _: AppRecognizerDelegate, forRowAtIndex _: Int) {
        /// 数据查看完
        //: self.removeAllData()
        self.areaAdd()
//        cardView.isUserInteractionEnabled = false
        //: beginRequestData()
        releaseTrack()
    }

    //: func didRemoveCell(cardView: TalkingClubCardView, cardViewCell: TalkingClubCardViewCell, forRowAtIndex: Int, direction: Int, isGesture: Bool) {
    func addPlayer(cardView _: VisualThen, cardViewCell _: AppRecognizerDelegate, forRowAtIndex: Int, direction: Int, isGesture: Bool) {
        //: if isGesture {
        if isGesture {
            //: if direction == 1 {
            if direction == 1 {
                // 埋点
                //: uploadRecord.uploadRecordEvent(eventID: click_home_dislike, toUid: "\(self.currenModel.uid)")
                kLet_postName.paper(eventID: kLet_keyDetailData, toUid: "\(self.currenModel.uid)")
                //: disLikeReq()
                recordUp()
                //: }else {
            } else {
                // 埋点
                //: uploadRecord.uploadRecordEvent(eventID: click_home_like, toUid: "\(self.currenModel.uid)")
                kLet_postName.paper(eventID: kLet_netText, toUid: "\(self.currenModel.uid)")
                //: likeReq()
                announcementPackageTo()
            }
        }
        //: cellItems.remove(at: 0)
        cellItems.remove(at: 0)
        //: if let model = cellItems.first {
        if let model = cellItems.first {
            //: self.currenModel = model
            self.currenModel = model
        }

        /// 最后一条
//        if cellItems.count == 1 {
//            cardView.isUserInteractionEnabled = false
//            beginRequestData()
//        }
        //: printLog(message:"didRemoveCell forRowAtIndex = \(forRowAtIndex)")
        printLog(message: (String(str_underTitle) + String(str_managerTitle)) + "\(forRowAtIndex)")
    }

    //: func didDisplayCell(cardViewCell: TalkingClubCardViewCell, forRowAtIndex: Int) {
    func stopObserver(cardViewCell _: AppRecognizerDelegate, forRowAtIndex _: Int) {}

    //: func didMoveCell(cardView: TalkingClubCardView, cardViewCell: TalkingClubCardViewCell, forMovePoint: CGPoint) {
    func balance(cardView _: VisualThen, cardViewCell _: AppRecognizerDelegate, forMovePoint _: CGPoint) {}

    //: func beginMoveCell(cardView: TalkingClubCardView, cardViewCell: TalkingClubCardViewCell) {
    func cardAdd(cardView _: VisualThen, cardViewCell _: AppRecognizerDelegate) {
//        if isShowSubscre {
//            cardView.isUserInteractionEnabled = false
//        }
    }
}

//: extension TalkingClubVC {
extension LayerRecognizerDelegate {
    //: private func setupView() {
    private func positionWith() {
        //: self.view.backgroundColor = .clear
        self.view.backgroundColor = .clear
        //: self.view.removeAllSubviews()
        self.view.removeAllSubviews()
        //: self.view.addSubview(cardView)
        self.view.addSubview(cardView)
        //: self.view.addSubview(disLikeBtn)
        self.view.addSubview(disLikeBtn)
        //: self.view.addSubview(hiBtn)
        self.view.addSubview(hiBtn)
        //: self.view.addSubview(likeBtn)
        self.view.addSubview(likeBtn)

        //: hiBtn.snp.makeConstraints { make in
        hiBtn.snp.makeConstraints { make in
            //: make.top.equalTo(cardView.snp.bottom).offset(28)
            make.top.equalTo(cardView.snp.bottom).offset(28)
            //: make.centerX.equalTo(self.view)
            make.centerX.equalTo(self.view)
            //: make.size.equalTo(61)
            make.size.equalTo(61)
        }

        //: disLikeBtn.snp.makeConstraints { make in
        disLikeBtn.snp.makeConstraints { make in
            //: make.size.top.equalTo(hiBtn)
            make.size.top.equalTo(hiBtn)
            //: make.trailing.equalTo(hiBtn.snp.leading).offset(-48)
            make.trailing.equalTo(hiBtn.snp.leading).offset(-48)
        }

        //: likeBtn.snp.makeConstraints { make in
        likeBtn.snp.makeConstraints { make in
            //: make.size.top.equalTo(hiBtn)
            make.size.top.equalTo(hiBtn)
            //: make.leading.equalTo(hiBtn.snp.trailing).offset(48)
            make.leading.equalTo(hiBtn.snp.trailing).offset(48)
        }
    }

    /// 添加通知
    //: private func addNotifications() {
    private func cellNotifications() {
        //: NotificationCenter.default.addObserver(self,
        NotificationCenter.default.addObserver(self,
                                               //: selector: #selector(self.func__requestUserInfo),
                                               selector: #selector(self.ignore),
                                               //: name: APPLE_IAP_SUBSCRIBE_SUCCEED_NOTIFICATION,
                                               name: kLet_failScreenTitle,
                                               //: object: nil)
                                               object: nil)
    }
}
